{"ast":null,"code":"import _regeneratorRuntime from\"/Users/hardikkhare/zotdrive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/hardikkhare/zotdrive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/hardikkhare/zotdrive/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Card,Button,Alert}from\"react-bootstrap\";import{useAuth}from\"../../contexts/AuthContext\";import{Link,useHistory}from\"react-router-dom\";import CenteredContainer from\"./CenteredContainer\";export default function Profile(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useAuth=useAuth(),currentUser=_useAuth.currentUser,logout=_useAuth.logout;var history=useHistory();function handleLogout(){return _handleLogout.apply(this,arguments);}function _handleLogout(){_handleLogout=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setError(\"\");_context.prev=1;_context.next=4;return logout();case 4:history.push(\"/login\");_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](1);setError(\"Failed to log out\");case 10:case\"end\":return _context.stop();}}},_callee,null,[[1,7]]);}));return _handleLogout.apply(this,arguments);}return/*#__PURE__*/React.createElement(CenteredContainer,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(\"h2\",{className:\"text-center mb-4\"},\"Profile\"),error&&/*#__PURE__*/React.createElement(Alert,{variant:\"danger\"},error),/*#__PURE__*/React.createElement(\"strong\",null,\"Email:\"),\" \",currentUser.email,/*#__PURE__*/React.createElement(Link,{to:\"/update-profile\",className:\"btn btn-primary w-100 mt-3\"},\"Update Profile\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"w-100 text-center mt-2\"},/*#__PURE__*/React.createElement(Button,{variant:\"link\",onClick:handleLogout},\"Log Out\")));}","map":{"version":3,"sources":["/Users/hardikkhare/zotdrive/src/components/authentication/Profile.js"],"names":["React","useState","Card","Button","Alert","useAuth","Link","useHistory","CenteredContainer","Profile","error","setError","currentUser","logout","history","handleLogout","push","email"],"mappings":"mbAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,MAAf,CAAuBC,KAAvB,KAAoC,iBAApC,CACA,OAASC,OAAT,KAAwB,4BAAxB,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,MAAOC,CAAAA,iBAAP,KAA8B,qBAA9B,CAEA,cAAe,SAASC,CAAAA,OAAT,EAAmB,eACNR,QAAQ,CAAC,EAAD,CADF,wCACzBS,KADyB,eAClBC,QADkB,4BAEAN,OAAO,EAFP,CAExBO,WAFwB,UAExBA,WAFwB,CAEXC,MAFW,UAEXA,MAFW,CAGhC,GAAMC,CAAAA,OAAO,CAAGP,UAAU,EAA1B,CAHgC,QAKjBQ,CAAAA,YALiB,8IAKhC,mIACEJ,QAAQ,CAAC,EAAD,CAAR,CADF,sCAIUE,CAAAA,MAAM,EAJhB,QAKIC,OAAO,CAACE,IAAR,CAAa,QAAb,EALJ,+EAOIL,QAAQ,CAAC,mBAAD,CAAR,CAPJ,oEALgC,+CAgBhC,mBACE,oBAAC,iBAAD,mBACE,oBAAC,IAAD,mBACE,oBAAC,IAAD,CAAM,IAAN,mBACE,0BAAI,SAAS,CAAC,kBAAd,YADF,CAEGD,KAAK,eAAI,oBAAC,KAAD,EAAO,OAAO,CAAC,QAAf,EAAyBA,KAAzB,CAFZ,cAGE,2CAHF,KAG2BE,WAAW,CAACK,KAHvC,cAIE,oBAAC,IAAD,EAAM,EAAE,CAAC,iBAAT,CAA2B,SAAS,CAAC,4BAArC,mBAJF,CADF,CADF,cAWE,2BAAK,SAAS,CAAC,wBAAf,eACE,oBAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,OAAO,CAAEF,YAAhC,YADF,CAXF,CADF,CAmBD","sourcesContent":["import React, { useState } from \"react\"\nimport { Card, Button, Alert } from \"react-bootstrap\"\nimport { useAuth } from \"../../contexts/AuthContext\"\nimport { Link, useHistory } from \"react-router-dom\"\nimport CenteredContainer from \"./CenteredContainer\"\n\nexport default function Profile() {\n  const [error, setError] = useState(\"\")\n  const { currentUser, logout } = useAuth()\n  const history = useHistory()\n\n  async function handleLogout() {\n    setError(\"\")\n\n    try {\n      await logout()\n      history.push(\"/login\")\n    } catch {\n      setError(\"Failed to log out\")\n    }\n  }\n\n  return (\n    <CenteredContainer>\n      <Card>\n        <Card.Body>\n          <h2 className=\"text-center mb-4\">Profile</h2>\n          {error && <Alert variant=\"danger\">{error}</Alert>}\n          <strong>Email:</strong> {currentUser.email}\n          <Link to=\"/update-profile\" className=\"btn btn-primary w-100 mt-3\">\n            Update Profile\n          </Link>\n        </Card.Body>\n      </Card>\n      <div className=\"w-100 text-center mt-2\">\n        <Button variant=\"link\" onClick={handleLogout}>\n          Log Out\n        </Button>\n      </div>\n    </CenteredContainer>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}